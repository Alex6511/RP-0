CONTRACT_TYPE
{
	name = spaceStationCoreRepeat
	group = HumanContracts
	
	title = New Space Station
	
	description = Design, build, and launch a space station into Earth orbit.
	
	synopsis = Launch a space station.
	
	completedMessage = Congratulations! Now go ahead and send up the station's first crew rotation!

	cancellable = true 
	declinable = true		
	deadline = 1460 // 1 year

	prestige = Significant
	
	targetBody = HomeWorld()

	maxSimultaneous = 1
	
	// reward block
	advanceFunds = 200000.0
	rewardReputation = 800.0
	rewardFunds = 150000.0
	failureReputation = 1200.0
	failureFunds = 350000.0
	
	
	// borrow from Space Station missions pack
	DATA
    {
        type = List<Vessel>
		requiredValue = false
        stations = AllVessels().Where(v => v.VesselType() == Station && v.CelestialBody() == HomeWorld())
    }
	
	
	REQUIREMENT
	{
		name = CompleteContractFirstStation
		type = CompleteContract
		contractType = first_spaceStation
	}
	REQUIREMENT
	{
		name = NoOtherHomeStations
		type = Expression
		expression = @/stations.Count() == 0
	}
	
	PARAMETER
	{
		name = vesselGroupLaunch
		type = VesselParameterGroup
		title = Launch the space station and place it in orbit.
		define = spaceStation
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
		}
		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			maxCrew = 0
		}
		PARAMETER
        {
            name = HasCapacity
            type = HasCrewCapacity
			
            minCapacity = 4
            title = Support 4 Crew (or 2 in good conditions)
			// FIXME improve this when we have living area tracked
        }
		PARAMETER
		{
			name = Orbit
			type = Orbit
			minPeA = 500
			maxApA = 2000
			targetBody = HomeWorld()
		}
	}
}
